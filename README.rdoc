= Exception Logger for Rails3

== Install

Inside your Gemfile:

  gem "exception_logger", :require => "exception_logger"

Inside your ApplicationController

  include ExceptionLogger::ExceptionLoggable # loades the module
  rescue_from Exception, :with => :log_exception_handler # tells rails to forward the 'Exception' (you can change the type) to the handler of the module

== Database Setup

Currently the generate is not ready to use.

Use

  rails g migration add_exception_table

and inside this file do:

  class AddExceptionTable < ActiveRecord::Migration
    def self.up
      create_table "logged_exceptions", :force => true do |t|
        t.column :exception_class, :string
        t.column :controller_name, :string
        t.column :action_name,     :string
        t.column :message,         :text
        t.column :backtrace,       :text
        t.column :environment,     :text
        t.column :request,         :text
        t.column :created_at,      :datetime
      end
    end

    def self.down
      drop_table "logged_exceptions"
    end
  end


== Routing
The gem is preconfigured to extend your rotes automatically.

To see if it is correctly installed use "rake routes"

== Authentication

If you want, and believe me you want that, you can add the following lines to your environment to enable Authentication

Example uses the declarative_authorization gem

in config/environment/production.rb:

  config.after_initialize do
    LoggedExceptionsController.class_eval do
      # include any custom auth modules you need
      # (declarative authorization gem used)
      filter_resource_access
      # just add any code you want to be included in the controller ;)
      # optional, sets the application name for the rss feeds
      self.application_name = "AlaskaTravelAgency"
    end
  end


== Legacy

For more and older details read the README.old File (old plugin).

== Note on Patches/Pull Requests
 
* Fork the project.
* Make your feature addition or bug fix.
* Add tests for it. This is important so I don't break it in a
  future version unintentionally.
* Commit, do not mess with rakefile, version, or history.
  (if you want to have your own version, that is fine but bump version in a commit by itself I can ignore when I pull)
* Send me a pull request. Bonus points for topic branches.

== Copyright

Copyright (c) 2010 Roland Guem. See LICENSE for details.
